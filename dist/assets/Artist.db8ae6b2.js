import{d as a,V as s,f as t,g as e,h as i,w as l,i as n,F as r,A as c,p as d,b as o,t as v,x as u,B as p,z as b,U as h,r as m,o as _,q as f,H as g,s as I,D as x}from"./vendor.d256638c.js";import{o as y,p as L}from"./index.f8e01513.js";import{_ as N}from"./AppDownload.916a7fbf.js";d("data-v-1ad48ada");const k={class:"simi-artists"},w=n("div",{class:"title"},"相似歌手",-1),A={class:"list fss fw"},q=["onClick"],j=["src"],C={class:"name t_ovl1"},z={class:"td_u cur_p"};o();var S=a({props:{list:{type:Array,required:!0}},setup(a){var d;const o=null==(d=s("router"))?void 0:d.push;return(s,d)=>{const u=t("loading");return e(),i("div",k,[w,l(n("div",A,[(e(!0),i(r,null,c(a.list,(a=>(e(),i("div",{class:"item fd_col",key:a.id,onClick:s=>{return t=a.id,null==o||o("/artist?id="+t),void setTimeout((()=>location.reload()),0);var t}},[n("img",{src:a.picUrl+"?param=50y50",alt:""},null,8,j),n("div",C,[n("span",z,v(a.name),1)])],8,q)))),128))],512),[[u,0===a.list.length]])])}}});S.__scopeId="data-v-1ad48ada",d("data-v-7c9ab900");const U={class:"wrap"},D={key:0,class:"name-wrap"},F={class:"name"},R={class:"alias"},V={key:1,class:"cover pr"},B=["src"],E=n("i",{class:"icon_artist_cover_mask cover_bg pa"},null,-1),H=n("div",{class:"icons pa"},[n("i",{class:"icon_artist_collect collect_icon d_ib pa"}),n("i",{class:"icon_artist_personal personal_icon d_ib pa"})],-1);o();var M=a({props:{detail:{type:Object,default:null}},setup:a=>(s,r)=>{const c=t("loading");return l((e(),i("div",U,[a.detail?(e(),i("div",D,[n("span",F,v(a.detail.name),1),n("span",R,v(a.detail.alias.join(";")),1)])):u("",!0),a.detail?(e(),i("div",V,[n("img",{src:a.detail.picUrl+"?param=640y300",alt:""},null,8,B),E,H])):u("",!0)],512)),[[c,null===a.detail]])}});M.__scopeId="data-v-7c9ab900",d("data-v-dcef04f2");const O={class:"artist-detail-navbar icon_artist_detail_navbar_bg fsc"},T=["onClick"],G={class:"fcc cur_p"};o();var J=a({props:{list:{type:Array,required:!0},chooseIndex:{type:Number,required:!0},changeNavbar:{type:Function,required:!0}},setup:a=>(s,t)=>(e(),i("div",O,[(e(!0),i(r,null,c(a.list,((s,t)=>(e(),i("div",{class:p(["navbar d_ib user_ns",t===a.chooseIndex?"active":""]),onClick:s=>a.changeNavbar(t),key:s.id},[n("div",G,v(s.name),1)],10,T)))),128))]))});J.__scopeId="data-v-dcef04f2",d("data-v-137c1c86");const K={class:"artist-page fss"},P={class:"left"},Q={class:"artist-msg"},W={class:"artist-content"},X={class:"right"};o();var Y=a({setup(a){var s;const r=b();r.beforeEach(((a,s,t)=>{let e=a.path;e.includes("/artist")&&(console.log(d.value.navbarList.findIndex((a=>a.path.includes(e)))),d.value.chooseNavbarIndex=d.value.navbarList.findIndex((a=>a.path.includes(e)))),t()}));const c=null==(s=r.currentRoute.value.query.id)?void 0:s.toString();h("router",r);const d=m({simiArtists:[],detail:null,navbarList:[{id:1,name:"热门作品",path:"/artist?id="+c},{id:2,name:"所有专辑",path:"/artist/album?id="+c},{id:3,name:"相关MV",path:"/artist/mv?id="+c},{id:4,name:"艺人介绍",path:"/artist/desc?id="+c}],chooseNavbarIndex:0});_((()=>{(()=>{let a=r.currentRoute.value.path;a.includes("/artist")&&(console.log(d.value.navbarList.findIndex((s=>s.path.includes(a)))),d.value.chooseNavbarIndex=d.value.navbarList.findIndex((s=>s.path.includes(a))))})(),(async()=>{c&&(d.value.simiArtists=(await y(c)).artists)})(),(async()=>{c&&(d.value.detail=(await L(c)).artist,d.value.navbarList[1].path=d.value.navbarList[1].path.concat("&total="+d.value.detail.albumSize),d.value.navbarList[2].path=d.value.navbarList[2].path.concat("&total="+d.value.detail.mvSize),d.value.navbarList[3].path=d.value.navbarList[3].path.concat("&name="+d.value.detail.name))})()}));const o=a=>{a!==d.value.chooseNavbarIndex&&(d.value.chooseNavbarIndex=a,r.push(d.value.navbarList[a].path))};return f((()=>d.value.chooseNavbarIndex),(()=>console.log(d.value.chooseNavbarIndex))),console.log(d.value),(a,s)=>{const r=g("router-view"),c=t("loading");return e(),i("div",K,[n("div",P,[l(n("div",Q,[d.value.detail?(e(),I(M,{key:0,detail:d.value.detail},null,8,["detail"])):u("",!0),x(J,{list:d.value.navbarList,chooseIndex:d.value.chooseNavbarIndex,changeNavbar:o},null,8,["list","chooseIndex"])],512),[[c,null===d.value.detail]]),n("div",W,[x(r)])]),n("div",X,[x(S,{list:d.value.simiArtists.slice(0,6)},null,8,["list"]),x(N)])])}}});Y.__scopeId="data-v-137c1c86";export{Y as default};
