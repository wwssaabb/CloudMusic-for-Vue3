import{d as a,z as l,c as e,g as s,h as t,i,t as c,x as n,B as d,F as r,A as o,u,p,j as v,b as y,f as m,D as _,v as h,w as g,n as f,G as R,r as k,o as T,q as b,s as S,R as w,O as j}from"./vendor.d256638c.js";import{H as C,I as E,J as q,K as A}from"./index.81ad652e.js";import{a as I,b as x,g as H}from"./index.45387715.js";import{_ as D}from"./Title.df053e60.js";import{_ as L}from"./AlbumList.a1e1c213.js";p("data-v-126d0682");const P={key:0,class:"user-home-head fss"},M={class:"cover cur_p"},N=["src"],O={class:"right"},B={class:"top"},F={class:"msg fsc"},G={class:"name"},K=i("img",{src:"https://p5.music.126.net/obj/wo3DlcOGw6DClTvDisK1/4357872479/15d6/b1b3/dff8/209585a9a787b00717324e75e55851d7.png",alt:""},null,-1),U={key:0,class:"icon_user_level pr"},z=v(),J=i("i",{class:"close pa"},null,-1),Q=i("i",{class:"icon_user_email"},"发私信",-1),V=i("i",{class:"icon_user_follow"},"关注",-1),W={class:"auths"},X={key:0,class:"item fsc"},Y=i("i",{class:"icon_user_home_auth_2 mr5"},null,-1),Z={class:"mr5"},$={key:1,class:"item fsc"},aa=i("i",{class:"icon_user_home_auth_4 mr5"},null,-1),la={class:"mr5"},ea={key:2,class:"item fsc"},sa=i("i",{class:"icon_user_home_auth_204 mr5"},null,-1),ta={class:"mr5"},ia={class:"middle fss"},ca=["onClick"],na={class:"count"},da=i("br",null,null,-1),ra={class:"name"},oa={class:"bot"},ua={key:0,class:"signature"},pa={key:1,class:"location"},va={key:0,class:"birthday"};y();var ya=a({props:{detail:{type:Object,required:!0,default:null},level:{type:Number,default:0}},setup(a){var p;const v=a,y=l(),m=null==(p=y.currentRoute.value.query.id)?void 0:p.toString(),_=e((()=>{var a,l,e,s,t;return[{name:"动态",count:null==(a=v.detail)?void 0:a.eventCount,path:"/user/event?id="+m},{name:"关注",count:null==(l=v.detail)?void 0:l.follows,path:"/user/follows?id="+m+"&total="+(null==(e=v.detail)?void 0:e.follows)},{name:"粉丝",count:null==(s=v.detail)?void 0:s.followeds,path:"/user/fans?id="+m+"&total="+(null==(t=v.detail)?void 0:t.followeds)}]})),h=(a,l)=>a.reduce(((a,e)=>(l.includes(e.type)&&a.push(e.desc),a)),[]).join("、");return(l,e)=>{var p,v,m;return null!==a.detail?(s(),t("div",P,[i("div",M,[i("img",{src:a.detail.avatarUrl+"?param=180y180",alt:""},null,8,N)]),i("div",O,[i("div",B,[i("div",F,[i("span",G,c(a.detail.nickname),1),K,a.level?(s(),t("i",U,[i("span",null,c(a.level),1),z,J])):n("",!0),a.detail.gender?(s(),t("i",{key:1,class:d("icon_user_sex_"+(1===a.detail.gender?"m":"w"))},null,2)):n("",!0),Q,V]),i("div",W,[(null==(p=a.detail.allAuthTypes)?void 0:p.find((a=>2===a.type||10===a.type)))?(s(),t("div",X,[Y,i("span",Z,c(h(a.detail.allAuthTypes,[2,10])),1)])):n("",!0),(null==(v=a.detail.allAuthTypes)?void 0:v.find((a=>4===a.type)))?(s(),t("div",$,[aa,i("span",la,c(h(a.detail.allAuthTypes,[4])),1)])):n("",!0),(null==(m=a.detail.allAuthTypes)?void 0:m.find((a=>200===a.type||204===a.type||207===a.type)))?(s(),t("div",ea,[sa,i("span",ta,c(h(a.detail.allAuthTypes,[200,204,207])),1)])):n("",!0)])]),i("div",ia,[(s(!0),t(r,null,o(u(_),(a=>(s(),t("div",{class:"item cur_p d_ib",key:a.count,onClick:l=>u(y).push(a.path)},[i("span",na,c(a.count),1),da,i("span",ra,c(a.name),1)],8,ca)))),128))]),i("div",oa,[a.detail.signature?(s(),t("div",ua,[i("span",null,"个人介绍："+c(a.detail.signature),1)])):n("",!0),a.detail.province?(s(),t("div",pa,[i("span",null," 所在地区："+c(u(I)(a.detail.province,a.detail.city)),1),a.detail.birthday>0?(s(),t("span",va,"年龄："+c(u(x)(a.detail.birthday)),1)):n("",!0)])):n("",!0)])])])):n("",!0)}}});ya.__scopeId="data-v-126d0682",p("data-v-10d2054a");const ma={class:"user-song-rank"},_a=i("span",{class:"title"},"听歌排行",-1),ha={class:"count"},ga=i("i",{class:"icon_user_tip"},null,-1),fa={key:0,class:"rank-list"},Ra={class:"index"},ka={class:"center fsc t_ovl1"},Ta={class:"content t_ovl1 pr"},ba=i("i",{class:"play_icon mr10 f_nos pa"},null,-1),Sa=["onClick"],wa=["innerHTML"],ja=R('<span class="icons fsc f_nos" data-v-10d2054a><i class="icon_user_record_add mr5 cur_p" title="添加到播放列表" data-v-10d2054a></i><i class="icon_user_record_collect mr5 cur_p" title="收藏" data-v-10d2054a></i><i class="icon_user_record_share mr5 cur_p" title="分享" data-v-10d2054a></i><i class="icon_user_record_download cur_p" title="下载" data-v-10d2054a></i></span>',1),Ca={class:"right"},Ea={key:1,class:"empty fcc"},qa=[i("div",{class:"content fcc"},[i("i",{class:"icon_user_home_empty"}),i("h2",{class:"text"},"暂无听歌记录")],-1)];y();var Aa=a({props:{list:{type:Array,required:!0},listenSongs:{type:Number,required:!0},chooseType:{type:Number,required:!0},changeType:{type:Function,required:!0},isEmpty:{type:Boolean,default:!1}},setup(a){const e=l();return(l,n)=>{const p=m("loading");return s(),t("div",ma,[_(D,null,{title:h((()=>[_a,i("span",ha,"累积听歌"+c(a.listenSongs)+"首",1),ga])),right:h((()=>[i("span",{class:d(["aweek cur_p",1===a.chooseType?"active":""]),onClick:n[0]||(n[0]=l=>a.changeType(1))},"最近一周",2),i("span",{class:d(["all_time cur_p",0===a.chooseType?"active":""]),onClick:n[1]||(n[1]=l=>a.changeType(0))},"所有时间",2)])),_:1}),a.isEmpty?(s(),t("div",Ea,qa)):g((s(),t("div",fa,[(s(!0),t(r,null,o(a.list,((a,l)=>(s(),t("div",{class:"item fss",key:a.song.id},[i("div",Ra,c(l+1)+".",1),i("div",ka,[i("div",Ta,[ba,i("span",{class:"name mr10 td_u f_nos cur_p",onClick:l=>u(e).push("/song?id="+a.song.id)},c(a.song.name),9,Sa),i("span",{class:"artist f_nos",innerHTML:"<span class=mr5>-</span>"+u(H)(a.song.ar,"name","id","/artist?id=")},null,8,wa)]),ja]),i("div",Ca,[i("div",{class:"bar",style:f("width:"+a.score+"%;")},null,4)])])))),128))],512)),[[p,!a.isEmpty&&0===a.list.length]])])}}});Aa.__scopeId="data-v-10d2054a",p("data-v-78c99b51");const Ia={class:"user-dj-list"},xa={class:"title"},Ha={class:"list"},Da=["src"],La={class:"name pr"},Pa={class:"td_u"},Ma=i("div",{class:"icons pa fcc"},[i("i",{class:"icon_user_record_share"})],-1),Na={class:"sub-count"},Oa={class:"periodical"};y();var Ba=a({props:{list:{type:Array,required:!0},title:{type:String,default:""}},setup:a=>(l,e)=>{const n=m("loading");return g((s(),t("div",Ia,[_(D,null,{title:h((()=>[i("span",xa,c(a.title),1)])),_:1}),i("div",Ha,[(s(!0),t(r,null,o(a.list,(a=>(s(),t("div",{class:"item fsc",key:a.id},[i("img",{src:a.picUrl+"?param=50y50",alt:""},null,8,Da),i("div",La,[i("span",Pa,c(a.name),1),Ma]),i("div",Na,"订阅"+c(a.subCount)+"次",1),i("div",Oa,c(a.programCount)+"期",1)])))),128))])],512)),[[n,0===a.list.length]])}});Ba.__scopeId="data-v-78c99b51",p("data-v-2914fca7");const Fa={class:"user-playlist"},Ga={class:"title"};y();var Ka=a({props:{list:{type:Array,required:!0},title:{type:String,required:!0}},setup:a=>(l,e)=>{const n=m("loading");return g((s(),t("div",Fa,[_(D,null,{title:h((()=>[i("span",Ga,c(a.title),1)])),_:1}),_(L,{playLists:a.list,showCreator:!1},null,8,["playLists"])],512)),[[n,0===a.list.length]])}});Ka.__scopeId="data-v-2914fca7",p("data-v-7a9c0de2");const Ua={class:"user-home-page"};y();var za=a({setup(a){var e;const i=l(),c=null==(e=i.currentRoute.value.query.id)?void 0:e.toString(),d=k({detail:null,playRecordType:1,playRecord:[],playRecordStatus:[!1,!1],djRadios:[],jRadiosIsEmpty:!1,playlist:{currentPage:1,more:!1,list:[],isEmpty:!1},isHome:!0}),o=a=>{d.value.playRecordType=a},p=async()=>{!c||d.value.playRecordStatus[0]&&d.value.playRecordType?d.value.playRecord=[]:(d.value.playRecord=[],d.value.playRecord=(await A(c,d.value.playRecordType))[d.value.playRecordType?"weekData":"allData"],0!==d.value.playRecord.length||d.value.playRecordStatus[0]?0===d.value.playRecord.length&&d.value.playRecordStatus[0]&&(d.value.playRecordStatus[1]=!0):(d.value.playRecordStatus[d.value.playRecordType?0:1]=!0,d.value.playRecordStatus[0]&&(d.value.playRecordType=0)))};return T((()=>{j((()=>{d.value.isHome="/user/home"===i.currentRoute.value.path})),(async()=>{c&&(d.value.detail=await C(c))})().then((a=>{var l;(null==(l=d.value.detail)?void 0:l.peopleCanSeeMyPlayRecord)&&p()})),(async()=>{c&&(d.value.djRadios=await(await E(c)).djRadios,0===d.value.djRadios.length&&(d.value.jRadiosIsEmpty=!0))})(),(async()=>{if(!c)return;let a=await q(c,d.value.playlist.currentPage,19);d.value.playlist.list=a.playlist,d.value.playlist.more=a.more,1===d.value.playlist.currentPage&&0===a.playlist.length&&(d.value.playlist.isEmpty=!0)})()})),b((()=>d.value.playRecordType),p),i.beforeEach(((a,l,e)=>{console.log(a.path),d.value.isHome="/user/home"===a.path,e()})),console.log(d.value),(a,l)=>{var e;const i=m("loading");return g((s(),t("div",Ua,[d.value.detail?(s(),S(ya,{key:0,detail:null==(e=d.value.detail)?void 0:e.profile,level:d.value.detail.level},null,8,["detail","level"])):n("",!0),d.value.isHome?(s(),t(r,{key:1},[d.value.detail&&!d.value.jRadiosIsEmpty?(s(),S(Ba,{key:0,list:d.value.djRadios,title:d.value.detail.profile.nickname+"创建的电台"},null,8,["list","title"])):n("",!0),!d.value.detail||!d.value.detail.peopleCanSeeMyPlayRecord||d.value.playRecordStatus[0]&&d.value.playRecordStatus[1]?n("",!0):(s(),S(Aa,{key:1,list:d.value.playRecord.slice(0,10),listenSongs:d.value.detail.listenSongs,changeType:o,chooseType:d.value.playRecordType,isEmpty:d.value.playRecordStatus[d.value.playRecordType?0:1]},null,8,["list","listenSongs","chooseType","isEmpty"])),d.value.detail&&!d.value.playlist.isEmpty?(s(),S(Ka,{key:2,title:d.value.detail.profile.nickname+"创建的歌单®（"+d.value.detail.profile.playlistCount+"）",list:d.value.playlist.list},null,8,["title","list"])):n("",!0)],64)):(s(),S(u(w),{key:2}))],512)),[[i,null===d.value.detail]])}}});za.__scopeId="data-v-7a9c0de2";export{za as default};
