import{d as a,z as e,f as s,w as l,g as t,h as r,F as n,A as i,p as u,b as c,i as o,t as v,r as d,o as g,q as p,D as m}from"./vendor.d256638c.js";import{s as P}from"./index.f8e01513.js";import{_}from"./Pagination.978ba472.js";u("data-v-488d9178");const y={class:"mv-list fss fw"},f=["onClick"],k=["src"],b=o("i",{class:"icon_mv_cover_mask pa"},null,-1),h=o("i",{class:"icon_mv_play_bg pa"},[o("i",{class:"icon_mv_play d_ib"})],-1),q=["onClick"],C={class:"td_u"};c();var j=a({props:{list:{type:Array,required:!0}},setup(a){const u=e(),c=a=>u.push("/mv?id="+a);return(e,u)=>{const d=s("loading");return l((t(),r("div",y,[(t(!0),r(n,null,i(a.list,(a=>(t(),r("div",{class:"item",key:a.id},[o("div",{class:"cover pr",onClick:e=>c(a.id)},[o("img",{src:a.imgurl+"?param=137y103",alt:""},null,8,k),b,h],8,f),o("div",{class:"name t_ovl1",onClick:e=>c(a.id)},[o("span",C,v(a.name),1)],8,q)])))),128))],512)),[[d,0===a.list.length]])}}});j.__scopeId="data-v-488d9178";const w={class:"mv-list-page"};var x=a({setup(a){var s,l;const n=e(),i=null==(s=n.currentRoute.value.query.id)?void 0:s.toString(),u=null==(l=n.currentRoute.value.query.total)?void 0:l.toString(),c=d({list:[],currentPage:1,totalPage:u,endPage:0}),o=async()=>{i&&(c.value.list=[],c.value.list=(await P(i,c.value.currentPage)).mvs,console.log(c.value))};g((()=>{u&&(c.value.endPage=Math.ceil(parseInt(u)/12)),o()}));const v=(a,e)=>{const s=c.value.currentPage,l=c.value.endPage;({page:()=>"page"===a&&e?c.value.currentPage=e:null,prev:()=>c.value.currentPage=1===s||2===s?1:s-1,next:()=>c.value.currentPage=s===l||s+1===l?l:s+1})[a]()};return p((()=>c.value.currentPage),(()=>o())),(a,e)=>(t(),r("div",w,[m(j,{list:c.value.list},null,8,["list"]),m(_,{endPage:c.value.endPage,currentPage:c.value.currentPage,click:v},null,8,["endPage","currentPage"])]))}});export{x as default};
